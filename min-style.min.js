!function(e,n){"use strict";"object"==typeof module&&null!=module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("@isiahmeadows/min-style",[],n):e.minStyle=n()}(this,function(){"use strict";function e(e,n,t){var r,l=e,u=Object.keys(n);u.sort(o);for(var a=0;a<u.length;a++){var f=u[a],c=n[f];i.call(d,f)&&""===c||(f+=" "+c,r=l[f],l=null!=r?r:l[f]=Object.create(null))}return r=l[t],null!=r?r:l[t]=Object.create(null)}function n(n,t,l,o,u,i,a){if(Array.isArray(a[1])){if("@"!==i[0]){if("function"!=typeof n.rule)return;return n.rule(i,a[1])}if("function"!=typeof n.atRule)return;return n.atRule(i,a[1])}if("function"==typeof n.prop){for(var f,c=!1,p=1;p<a.length;p++){var s=n.prop(i,a[p]);null!=s?(c=!0,r(n,t,l,o,u,!0,s)):(null==f&&(f=e(t,l,o),null==f[i]&&(f[i]=[])),f[i].push(a[p]))}return c?[]:void 0}}function t(l,o,u,i,a,f,c){var p,s=c[0];if("function"==typeof s)return void r(l,o,u,i,a,f,s.apply(void 0,c.slice(1)));if(Array.isArray(s))for(var y=0;y<s.length;y++)c[0]=s[y],t(l,o,u,i,a,f,c);else if(null!=s&&""!==s){s=(s+"").trim();var d=f&&null!=l?n(l,o,u,i,a,s,c):void 0;if(null!=d)d.length&&r(l,o,u,i,a,!0,d);else if(Array.isArray(c[1]))if("@"!==s[0]){var m="";"&"===s[0]?s=s.slice(1):""!==i&&(m+=" "),r(l,o,u,i+m+s.replace(h,a).trim(),a,f,c[1])}else{var v=/^(@\w+)/.exec(s)[0];p=u[v],s=s.slice(v.length).trim(),null==p&&(p=""),null==p||""===p?u[v]=s:"@media"===v||"@supports"===v?u[v]=p+" and "+s:u[v]=p+", "+s,r(l,o,u,i,a,f,c[1]),u[v]=p}else{if(0===c.length)return;var g,j=e(o,u,i);1===c.length?f&&null!=(g=j[""])?g.push(s):j[""]=[s]:f&&null!=(g=j[s])?g.push.apply(g,c.slice(1)):j[s]=c.slice(1)}}}function r(e,n,r,l,o,u,i){for(var a=0;a<i.length;a++)t(e,n,r,l,o,u,i[a])}function l(e){var n,t="",r=Object.create(null);for(var o in e)if(i.call(e,o)&&/^@(media|supports|(-moz-)?document)\s+/.test(o)){if(n=e[o],Array.isArray(n))continue;r[o]=!0,t+=o+"{"+l(n)+"}"}for(var u in e)if(i.call(e,u)&&!r[u])if(n=e[u],Array.isArray(n))if(""===u)t+=n.join(";")+";";else for(var a=0;a<n.length;a++)t+=u+":"+n[a]+";";else""!==u&&(t+=u+"{"),t+=l(n),""!==u&&(t+="}");return t}function o(e,n){return i.call(y,e)?i.call(y,n)?e.localeCompare(n):-1:i.call(y,n)?1:e.localeCompare(n)}function u(e){null!=e&&"function"!=typeof e.rule&&"function"!=typeof e.atRule&&"function"!=typeof e.prop&&(e=void 0);var n,t=Object.create(null),o=null!=e?e.parent:void 0;return null!=o&&"function"==typeof o.get&&(o=o.get(0)),{init:u,add:function(n){function l(e,n,t){if(""===n)return""!==t?t:e;var r=n[0];return n=n.slice(1),null!=o[n]?r+o[n]:(p(),r+(o[n]=n+"__"+a[c[0]]+a[c[1]]+a[c[2]]+a[c[3]]+a[c[4]]+a[c[5]]+a[c[6]]+a[c[7]]+a[c[8]]+a[c[9]]+a[c[10]]+a[c[11]]+a[c[12]]+a[c[13]]+a[c[14]]+a[c[15]]))}var o=Object.create(null);return r(e,t,Object.create(null),"",l,!1,n),o},render:function(){return l(t)},inject:function(){null==o&&(o=document.head),null!=n&&(n=document.createElement("style"),o.appendChild(n)),n.textContent=l(t)},detach:function(){null!=n&&(o.removeChild(n),n=void 0)}}}for(var i=Object.prototype.hasOwnProperty,a=new Array(256),f=0;256>f;f++)a[f]=(f+256).toString(16).slice(0,2);var c,p,s;"function"==typeof require?(s=require("crypto"),p=function(){c=s.randomBytes(16)}):("object"==typeof crypto&&null!=crypto?s=crypto:"object"==typeof msCrypto&&null!=msCrypto&&(s=msCrypto),null!=s&&"function"==typeof s.getRandomValues?(c=new Uint8Array(16),p=function(){s.getRandomValues(c)}):(c=new Array(16),p=function(){for(var e,n=0;16>n;n++)3&n||(e=4294967296*Math.random()>>>0),c[n]=e>>>((3&n)<<3)&255}));var y={"@media":0,"@supports":0,"@document":0,"@-moz-document":0,"@page":0},d={"@media":0,"@supports":0,"@document":0,"@-moz-document":0},m="-?[-\\w\\x80-\\uffff]+",v="(?:[^\r\n\f\\\\]|\\\\(?:\r\n?|[\"'\n\f]|[0-9a-f]{1,6}(?:\r\n?|[	\f\n])))*?",h=new RegExp("([\\.#]"+m+")|:global\\(((?:\\s*[\\.#]"+m+"\\s*)+)\\)|\\[(?:"+m+"|(['\"])"+v+"\\3)(?:=(?:"+m+"|(['\"])"+v+"\\4))?\\]","gi");return u()});
